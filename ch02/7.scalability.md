# **2.9 확장성(Scalability)**

확장성(Scalability)이란  
**트래픽·데이터·사용자 수가 증가해도 시스템이 성능 저하 없이 처리량을 유지하거나 늘릴 수 있는 능력**을 의미한다.

확장성은 크게 두 가지 방법으로 나뉜다.

- 수직 확장(Scale-up)
- 수평 확장(Scale-out)

# **2. 확장성의 두 가지 형태**

---

## **2.9.1 수직 확장성 (Vertical Scaling, Scale-up)**

### **정의**
단일 서버의 **CPU·RAM·디스크 IO·네트워크 대역폭** 등을 업그레이드하는 방식으로 성능을 높이는 전략.

### **장점**

- 구조 단순 → 장애 포인트 적음  
- 개발·운영 복잡도가 낮음  
- 트랜잭션 처리나 Strong Consistency 요구에 유리  
- 단일 인스턴스 DB(PostgreSQL, MySQL)에 적합

### **단점**

- 비용 증가 폭이 매우 큼 (고사양 머신은 기하급수적으로 비쌈)
- 물리적 상한 존재 (더 이상 업그레이드 불가한 순간이 옴)
- 단일 장애 지점(Single Point of Failure) 위험

### **사용 사례**

- 금융 DB  
- OLTP 트랜잭션 처리  
- 낮은 지연 시간이 중요한 서비스  

---

## **2.9.2 수평 확장성 (Horizontal Scaling, Scale-out)**

### **정의**
서버·노드를 여러 대로 늘려 **부하를 분산 처리**하는 확장 방식.

### **장점**

- 무한에 가까운 확장 가능
- 노드 추가/삭제가 쉬움(탄력 확장, Auto Scaling)
- 장애 허용성(Fault Tolerance) 향상
- 글로벌 분산 전략에 필수

### **단점**

- 분산 처리 구조 필요 → 아키텍처가 복잡해짐
- 데이터 일관성 문제 발생 가능 (CAP 이슈)
- 네트워크 통신 비용 증가
- 개발 난이도 상승

### **사용 사례**

- 대규모 트래픽 API 서버
- 로그/이벤트 스트림 처리(Kafka·Kinesis)
- 검색 엔진(Elasticsearch)
- NoSQL(Cassandra·DynamoDB)

---

# **3. 수직·수평 확장의 Trade-off**

| 구분 | 수직 확장(Scale-up) | 수평 확장(Scale-out) |
|------|----------------------|------------------------|
| 확장 한계 | 존재함(물리적 한계) | 거의 무한 |
| 비용 | 고사양 장비일수록 비쌈 | 저비용 장비 여러 대로 구성 가능 |
| 개발 난이도 | 낮음 | 높음 |
| 아키텍처 복잡도 | 단순 | 복잡 |
| 장애 허용성 | 낮음 | 높음 |
| 지연 시간 | 매우 낮을 수 있음 | 네트워크 지연 포함 |
| 일관성 | Strong Consistency 유지 쉬움 | CAP Trade-off 필요 |
| 운영 비용 | 낮음 | 높을 수 있음 |

---

## **추가 설명: 수평 확장이 지연 시간을 증가시키는 이유**

수평 확장은 서버가 여러 대이기 때문에 요청 처리 과정에서 반드시 **네트워크 왕복(RTT)**이 발생한다.  
아래 단계가 모두 지연 시간에 누적된다.

1. 로드밸런서를 거쳐 서버 선택  
2. 서버 간 RPC 호출  
3. DB 샤드 또는 레플리카 간 통신  
4. 데이터 일관성(Uniqueness·Lock·Replication)을 맞추기 위한 추가 통신  

즉, **수평 확장은 네트워크를 여러 번 가로질러야 하므로 지연 시간이 구조적으로 증가한다.**

반면 수직 확장은  
**서버 내부(L1/L2/L3 캐시, 메모리, 로컬 디스크)에서 모든 작업이 완료되므로**  
네트워크 통신 자체가 없거나 극히 줄어든다.

→ 이 때문에 *초저지연(ultra-low latency)*이 필요한 서비스는 수직 확장을 우선 고려하게 된다.
