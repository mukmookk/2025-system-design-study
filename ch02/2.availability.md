# 2.3 가용성(Availability)

가용성은 **시스템이 장애 없이 지속적으로 요청에 응답할 수 있는 능력**을 말한다.  
분산 환경에서 가용성은 “얼마나 자주 시스템이 정상적으로 서비스 가능한가”를 판단하는 핵심 기준이다.

---

## 1. 가용성의 정의

- 시스템이 요청을 받으면 **항상 응답을 반환할 수 있어야 한다.**
- 일부 노드가 장애가 발생해도 시스템 전체는 동작해야 한다.
- “빠른 응답”보다 **끊기지 않는 서비스 운영**에 더 초점을 둔다.

가용성은 단순히 서버가 켜져 있는지가 아니라 **사용자가 요청했을 때 서비스 제공이 가능한지**로 판단한다.

---

## 2. 가용성의 동작 방식

### 1) 다중 노드 운영
- 여러 서버를 묶어 하나의 서비스처럼 동작
- 특정 노드 장애 시 다른 노드가 요청을 대신 처리

### 2) 로드 밸런싱 (Load Balancing)
- 트래픽을 여러 서버로 분산
- 서버 장애 감지 후 정상 노드로 트래픽 자동 우회

### 3) 자동 복구(Auto Recovery)
- 장애 노드를 자동으로 재시작하거나 교체
- Kubernetes의 Self-healing 기능 등이 대표적

### 4) 무중단 배포(Zero-Downtime Deployment)
- 블루/그린, 롤링 업데이트 기반으로 배포 중에도 서비스 유지

### 5) 데이터 복제와 Read Replica
- DB나 캐시에 복제본을 운영하여 장애 시 빠르게 전환(Failover)

가용성은 결국 “서비스 중단 없이 운영하기 위한 모든 전략”의 총합이다.

---

## 3. 가용성의 장점

- 장애 발생에도 서비스 연속성 유지
- 사용자 경험(UX) 보호
- SLA(Service Level Agreement) 목표 충족
- 장애 전파 방지로 서비스 안정성 확보

---

## 4. 가용성의 단점

- 높은 가용성을 만들기 위해 비용 증가 (여러 노드 운영)
- 장애 감지·전환 로직이 복잡
- 데이터는 최신이 아닐 수도 있음  
  → 가용성(A)을 높이면 일관성(C)을 희생하는 경우가 생김 (CAP 이론)

---

## 5. 가용성 확보 전략 (실무 중심)

### 1) 이중화(Redundancy)
- 서버, 데이터베이스, 네트워크 장비 등 모든 요소를 최소 2개 이상 구성

### 2) 수평 확장(Scale-out)
- 여러 대의 서버를 구성해 트래픽 폭주·장애 상황에 대응

### 3) 헬스 체크(Health Check)
- 장애 노드 자동 감지 후 제외
- Load Balancer(DNS, L4, L7)에서 기본적 기능 제공

### 4) 재시도 + 백오프(Retry + Backoff)
- 일시적 오류 발생 시 일정 시간 뒤 재시도
- 외부 API/DB가 순간적으로 불안정할 때 효과적

### 5) Circuit Breaker
- 연속적인 오류로 전체 시스템이 붕괴되는 것을 방지

### 6) 글로벌 분산 및 Multi-AZ 구성
- 리전 장애에도 서비스 유지 가능

---

## 6. 가용성 선택 기준 (비즈니스 의사결정 관점)

### 1) “서비스가 잠깐 중단돼도 되는가?”
- No → 높은 가용성 설계 필수  
- Yes → 단일 노드 구성도 가능

### 2) “장애 복구 시간이 중요한가?”
- 빠른 복구 필요 → 다중 노드 + 자동 Failover  
- 큰 영향 없음 → 단순 백업으로 충분

### 3) “트래픽은 일정한가, 변동성이 큰가?”
- 변동성이 크면 Scale-out 기반 가용성 강화 구조가 필요  
- 변동이 적다면 단순 구조로도 운영 가능

